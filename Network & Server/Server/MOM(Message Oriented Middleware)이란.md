
# MOM(Message Oriented Middleware)

![image](https://user-images.githubusercontent.com/74396651/234534726-3abd2e5e-eebf-4429-8c77-2f52804090c9.png)

MOM(Message Oriented Middleware)란 독립된 서비스 간 데이터를 주고받을 수 있는 형태의 미들웨어를 말한다.

모든 모델에서 한 소프트웨어 구성 요소가 네트워크를 통해 다른 구성 요소의 동작에 영향을 줄 수 있다. RPC 및 ORB 기반 미들웨어에서는 시스템의 구성 요소를 밀접하게 연결하는 반면, MOM 기반 시스템에서는 구성 요소를 더 느슨하게 연결할 수 있다. RPC 또는 ORB 기반 시스템에서는 한 프로시저에서 다른 프로시저를 호출할 때 호출된 프로시저가 반환될 때까지 대기하였다가 다른 작업을 수행할 수 있다. 앞에서 설명한 것처럼 이러한 모델에서는 미들웨어가 부분적으로 수퍼링커의 역할을 하여 호출된 프로시저를 네트워크에서 찾고 네트워크 서비스를 통해 함수 또는 메소드 매개 변수를 프로시저에 전달한 다음 결과를 반환한다.<br>
<br>


# MOM 구조

![image](https://user-images.githubusercontent.com/74396651/234539408-a8cf4d9b-36de-49df-b457-79e903d32883.png)
> MOM 기반 시스템에서는 비동기식 메시지 교환을 통해 통신을 가능하게 한다.

메시지 지향 미들웨어(Message Oriented Middleware)는 메시징 공급자를 사용하여 메시징 작업을 중재한다. 
- Message : 전달하려는 데이터
- Producer : 메세지를 보내는 클라이언트
- Consumer : 메세지를 받는 클라이언트
- Message Broker : 메시지를 전달하는 공급자


## MOM 장점
- 프로듀서는 MOM 시스템을 통해 API를 호출하여 공급자가 관리하는 대상에게 메시지를 보낸다. API 호출은 공급자 서비스를 호출하여 메시지를 라우팅하고 전달한다. 메시지를 보낸 후 프로듀서는 다른 작업을 계속해서 수행할 수 있다. 이때 공급자는 수신하는 클라이언트가 메시지를 검색할 때까지 해당 메시지를 보관한다. 메시지 기반 모델은 공급자의 중재와 연계하여 느슨하게 연결된 구성 요소의 시스템이 만들어질 수 있게 합니다. 그런 시스템은 개별 구성 요소나 연결이 실패하더라도 중단 없이 계속해서 안정적으로 작동할 수 있습니다.

- 메시징 공급자를 사용하여 클라이언트 간에 메시징을 중재할 경우 관리 인터페이스를 추가하여 성능을 모니터링 및 조정할 수 있다. 따라서 클라이언트 응용 프로그램은 메시지 발신, 수신 및 처리와 관련된 것을 제외한 모든 문제에서 효과적으로 벗어날 수 있다. MOM 시스템 구현은 코드에서 담당하고 상호 운용성, 안정성, 보안, 확장성, 성능 등과 관련된 문제는 관리자가 해결해야 한다.



## MOM 단점
- MOM의 경우 느슨한 연결로 이루어져 있다. RPC 시스템에서 호출 함수는 호출된 함수가 작업을 완료할 때까지 반환되지 않는다. 비동기식 시스템에서 호출 클라이언트는 작업을 처리하는 데 필요한 자원이 부족하여 호출된 구성 요소가 실패할 때까지 계속 수신자에게 작업을 로드할 수 있다. 물론 성능을 모니터링하고 메시지 흐름을 조정하여 이러한 조건을 최소화하거나 방지할 수 있지만 RPC 시스템에서는 그런 작업이 필요하지 않습니다. 중요한 것은 각 시스템 종류의 장점과 단점을 이해하는 것이다. 각 시스템은 서로 다른 작업에 적합합니다. 정확하게 필요한 동작을 얻기 위해 두 종류의 시스템을 결합해야 하는 경우도 있다.

## MOM 특징
- 비동기 방식으로 메세지를 전달한다.
- Queue, Broadcast, Multicas 등의 방식으로 메세지를 전달한다.
- MOM이 메세지를 전달하는 방식은 크게 Message Queue 모델, Pub-Sub 모델로 나누어진다.


<br>
<br>
<br>
<br>
<br>

[참고-오라클(https://docs.oracle.com/cd/E19148-01/820-0532/6nc919fai/index.html)
